<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Branching UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">Test: Branching UI Display</h1>
        
        <!-- Branching Section -->
        <div id="branchingSection" class="mt-6 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border-2 border-purple-200">
            <div class="flex items-center mb-4">
                <svg class="w-6 h-6 text-purple-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
                </svg>
                <h4 class="text-lg font-bold text-purple-900">Section Branching</h4>
            </div>
            
            <p class="text-sm text-gray-700 mb-4">
                Configure conditional navigation: send users to different sections based on their choice.
            </p>
            
            <!-- Enable Branching Toggle -->
            <div class="mb-6 p-4 bg-white rounded-lg shadow-sm">
                <label class="flex items-center cursor-pointer">
                    <input type="checkbox" id="enableBranching" 
                           class="w-5 h-5 text-purple-600 rounded focus:ring-purple-500" checked>
                    <span class="ml-3 font-medium text-gray-900">Enable section branching for this question</span>
                </label>
                <p class="text-sm text-gray-500 mt-2 ml-8">
                    When enabled, each answer choice can route users to a specific section or end the survey.
                </p>
            </div>
            
            <!-- Branching Configuration Panel -->
            <div id="branchConfigPanel">
                <div class="bg-white rounded-lg shadow-sm p-4">
                    <h5 class="font-semibold text-gray-800 mb-3 flex items-center">
                        <svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                        </svg>
                        Configure branch targets for each choice:
                    </h5>
                    
                    <div id="branchOptions" class="space-y-3">
                        <!-- Example choice 1 -->
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded hover:bg-gray-100 transition">
                            <div class="flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">
                                1
                            </div>
                            <div class="flex-grow">
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    "Excellent"
                                </label>
                                <select name="branch_target_excellent" 
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                                    <option value="">‚û°Ô∏è Continue to next section</option>
                                    <option value="0">üèÅ End survey</option>
                                    <option value="7" selected>üìç Section B</option>
                                    <option value="8">üìç Section C</option>
                                </select>
                            </div>
                        </div>

                        <!-- Example choice 2 -->
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded hover:bg-gray-100 transition">
                            <div class="flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">
                                2
                            </div>
                            <div class="flex-grow">
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    "Good"
                                </label>
                                <select name="branch_target_good" 
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                                    <option value="">‚û°Ô∏è Continue to next section</option>
                                    <option value="0">üèÅ End survey</option>
                                    <option value="7">üìç Section B</option>
                                    <option value="8" selected>üìç Section C</option>
                                </select>
                            </div>
                        </div>

                        <!-- Example choice 3 -->
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded hover:bg-gray-100 transition">
                            <div class="flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">
                                3
                            </div>
                            <div class="flex-grow">
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    "Poor"
                                </label>
                                <select name="branch_target_poor" 
                                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                                    <option value="">‚û°Ô∏è Continue to next section</option>
                                    <option value="0" selected>üèÅ End survey</option>
                                    <option value="7">üìç Section B</option>
                                    <option value="8">üìç Section C</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4 p-3 bg-blue-50 rounded border border-blue-200">
                        <p class="text-sm text-blue-800">
                            <strong>üí° Tip:</strong>
                            Leave as 'Continue to next section' for normal flow, or select a specific section to skip ahead.
                        </p>
                    </div>
                </div>
                
                <!-- Visual Preview -->
                <div class="mt-4 bg-white rounded-lg shadow-sm p-4">
                    <h5 class="font-semibold text-gray-800 mb-3 flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                        </svg>
                        Branching Flow Preview
                    </h5>
                    <div id="branchPreview" class="text-sm text-gray-600">
                        <div class="space-y-2">
                            <div class="flex items-center p-2 bg-gray-50 rounded">
                                <span class="font-medium text-gray-800 mr-2">"Excellent"</span>
                                <span class="mx-2 text-purple-600 font-semibold">‚ÜóÔ∏è</span>
                                <span class="text-purple-600 font-semibold">Section B</span>
                            </div>
                            <div class="flex items-center p-2 bg-gray-50 rounded">
                                <span class="font-medium text-gray-800 mr-2">"Good"</span>
                                <span class="mx-2 text-purple-600 font-semibold">‚ÜóÔ∏è</span>
                                <span class="text-purple-600 font-semibold">Section C</span>
                            </div>
                            <div class="flex items-center p-2 bg-gray-50 rounded">
                                <span class="font-medium text-gray-800 mr-2">"Poor"</span>
                                <span class="mx-2 text-red-600 font-bold">üèÅ</span>
                                <span class="text-red-600 font-bold">END SURVEY</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded">
            <h3 class="font-bold text-yellow-900 mb-2">üìù H∆∞·ªõng d·∫´n</h3>
            <p class="text-sm text-yellow-800">
                ƒê√¢y l√† b·∫£n demo UI cho t√≠nh nƒÉng branching. N·∫øu b·∫°n th·∫•y ƒë∆∞·ª£c ph·∫ßn n√†y v·ªõi:
            </p>
            <ul class="list-disc ml-6 mt-2 text-sm text-yellow-800">
                <li>‚úÖ M√†u n·ªÅn gradient t√≠m/xanh</li>
                <li>‚úÖ 3 dropdown cho m·ªói l·ª±a ch·ªçn</li>
                <li>‚úÖ Preview section v·ªõi m≈©i t√™n m√†u</li>
            </ul>
            <p class="text-sm text-yellow-800 mt-2">
                ‚Üí Th√¨ code UI ƒëang ho·∫°t ƒë·ªông ƒë√∫ng!
            </p>
        </div>
    </div>

    <script>
        document.getElementById('enableBranching').addEventListener('change', function() {
            const panel = document.getElementById('branchConfigPanel');
            panel.style.display = this.checked ? 'block' : 'none';
        });
        
        console.log('‚úÖ Branching UI test page loaded successfully');
    </script>
</body>
</html>
